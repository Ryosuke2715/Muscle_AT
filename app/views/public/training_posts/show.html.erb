<div class="container" style="margin-top: 130px; margin-bottom: 173px;">
  <div class="row justify-content-center">
    <div class="col-md-12">
      <!-- Control links -->
      <%= render 'public/shared/controll' %>
    </div>
    <div class="col-md-3">
      <!-- SideBar -->
      <%= render 'public/shared/customer_profile', user: current_customer %>
    </div>
    <div class="col-md-8">
      <h1><%= @training_post.title %></h1>
      <p>トレーニング日: <%= @training_post.date.strftime("%Y年%m月%d日") %></p>
      <p><%= @training_post.content %></p>
    </div>
  </div>
  <div class="container">
    <h2 class="mt-4">コメント一覧</h2>
    <% @training_post.training_comments.each do |comment| %>
      <li>
        <strong><%= comment.customer.name %></strong>
        <p><%= comment.comment_content %></p>
        <% if comment.customer == current_customer %>
          <%= link_to "削除", training_post_training_comment_path(@training_post, comment), method: :delete, data: { confirm: "このコメントを削除しますか?" }, class: "btn btn-danger btn-sm" %>
        <% end %>
      </li>
    <% end %>

    <!-- コメント投稿フォーム -->
    <%= form_with(model: [@training_post, @training_post.training_comments.build], local: true) do |form| %>
      <div class="form-group">
        <%= form.label :comment_content, "コメントを追加" %>
        <%= form.text_area :comment_content, class: "form-control" %>
      </div>
      <div class="actions">
        <%= form.submit "コメントを投稿", class: "btn btn-primary" %>
      </div>
    <% end %>
  </div>
</div>

